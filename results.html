<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Your calorie calculation results. See your maintenance calories, weight loss goals, and weight gain targets.">
    <title>Your Results | FitCalc</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>

    <header>
        <nav class="container">
            <a href="index.html" class="logo">FitCalc<span>.Free</span></a>
            <ul class="nav-links">
                <li><a href="calculator.html" data-i18n="nav_calories">Calories</a></li>
                <li><a href="bmi-calculator.html">BMI</a></li>
                <li><a href="ideal-weight.html">Ideal Weight</a></li>
                <li><a href="macro-calculator.html">Macros</a></li>
                <li><a href="water-calculator.html">Water</a></li>
                <li><a href="body-fat.html">Body Fat</a></li>
                <li><a href="tracker.html" data-i18n="nav_tracker">Tracker</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="results-section">
            <div class="container">
                <h1>Your Daily Calorie Targets</h1>

                <div class="results-summary card">
                    <h2>Maintenance Calories (TDEE)</h2>
                    <div class="big-number" id="tdee-display">--</div>
                    <p>This is the amount of calories you need to eat to stay the same weight.</p>
                </div>

                <div class="grid-3 mt-2">
                    <div class="card result-card loss">
                        <h3>Weight Loss</h3>
                        <div class="sub-number" id="loss-display">--</div>
                        <p>Sustainable 0.5kg/week loss (-500 cal)</p>
                        <button class="btn btn-sm btn-outline" onclick="viewDiet('loss')">View Plan</button>
                    </div>

                    <div class="card result-card maintain">
                        <h3>Maintenance</h3>
                        <div class="sub-number" id="maintain-display">--</div>
                        <p>Keep current weight</p>
                        <button class="btn btn-sm btn-outline" onclick="viewDiet('maintain')">View Plan</button>
                    </div>

                    <div class="card result-card gain">
                        <h3>Weight Gain</h3>
                        <div class="sub-number" id="gain-display">--</div>
                        <p>Build muscle (+300 cal)</p>
                        <button class="btn btn-sm btn-outline" onclick="viewDiet('gain')">View Plan</button>
                    </div>
                </div>

                <!-- New: Detailed Projections & ZigZag -->
                <div class="card mt-2">
                    <h3>Detailed Projections</h3>
                    <p>Estimated dates to reach your goal weight based on different paces.</p>
                    <div class="table-container">
                        <table id="projection-table" class="data-table">
                            <thead>
                                <tr>
                                    <th>Goal</th>
                                    <th>Daily Calories</th>
                                    <th>Weekly Pace</th>
                                    <th>Estimated Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Injected by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card mt-2">
                    <h3>Zig-Zag Calorie Cycling (7-Day Schedule)</h3>
                    <p>Prevent metabolic adaptation by cycling your calorie intake.</p>
                    <div class="table-container">
                        <table id="zigzag-table" class="data-table">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Calories</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Injected by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- AdSense Placeholder: High Value Spot -->
                <div class="ad-container mt-2">
                    <p class="ad-label">Advertisement</p>
                    <div class="ad-box">
                        <p>Google Ad (Responsive Bar)</p>
                    </div>
                </div>

                <div class="macro-breakdown card mt-2 gradient-border">
                    <div style="display: flex; flex-wrap: wrap; gap: 2rem; align-items: center;">
                        <div style="flex: 1; min-width: 250px;">
                            <h3>Daily Macro Breakdown</h3>
                            <p style="font-size: 0.9rem; margin-bottom: 1.5rem;">Suggested distribution based on your
                                TDEE.</p>
                            <canvas id="macroChart" style="max-height: 250px;"></canvas>
                        </div>
                        <div style="flex: 1; min-width: 250px;">
                            <div class="macro-bars" id="macro-bars-container">
                                <!-- Existing progress bars will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 3rem; margin-bottom: 3rem;">
                    <button class="btn btn-primary" onclick="generatePDF()" data-i18n="download_pdf">
                        ðŸ“¥ Download PDF Report
                    </button>
                </div>

            </div>
        </section>
    </main>

    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/calculator.js"></script>
    <script>
        // Simple inline script to load results immediately
        document.addEventListener('DOMContentLoaded', loadResults);
    </script>
</body>

</html>